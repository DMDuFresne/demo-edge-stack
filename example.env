# =============================================
# Abelara MES - Docker Compose Environment Variables
# =============================================
# Copy this file to .env and update with your values
# All variables with defaults are optional
# Required variables are marked with (REQUIRED)

# =============================================
# Global Configuration
# =============================================

# Timezone for all services
TZ=America/Chicago

# =============================================
# Image Tags (Version Control)
# =============================================
# Pin specific versions for production or use defaults
# Defaults are set in docker-compose.yml

IGNITION_TAG=8.3.0
SOLACE_TAG=latest
TIMESCALEDB_TAG=latest-pg17
PGADMIN_TAG=latest
HISTORIAN_TAG=latest
COLLECTOR_TAG=latest
EXPLORER_TAG=latest
BACKUP_TAG=17
WATCHTOWER_TAG=latest
HOMEPAGE_TAG=latest
GLANCES_TAG=latest-full

# =============================================
# Ignition Gateway Configuration
# =============================================

# Container Configuration
IGNITION_CONTAINER_NAME=mes-ignition-gateway
IGNITION_HOSTNAME=mes-ignition-gateway

# Network Ports
IGNITION_HTTP_PORT=8088
IGNITION_HTTPS_PORT=8043
IGNITION_GAN_PORT=8060

# Gateway Settings
GATEWAY_ADMIN_USERNAME=admin
IGNITION_PASSWORD=changeme                    # (REQUIRED) Change in production!
IGNITION_EDITION=standard
GATEWAY_NAME=docker-dev-gateway

# Memory Configuration (MB)
GATEWAY_MAX_MEMORY=2048
GATEWAY_INIT_MEMORY=512

# Licensing (Leave empty if not using)
IGNITION_LICENSE_KEY=
IGNITION_ACTIVATION_TOKEN=
GATEWAY_MODULES_ENABLED=

# Advanced Options
DISABLE_QUICKSTART=false
ALLOW_UNSIGNED_MODULES=true
IGNITION_UID=2003
IGNITION_GID=2003

# =============================================
# Solace PubSub+ Message Broker Configuration
# =============================================

# Container naming
SOLACE_CONTAINER_NAME=mes-solace-broker
SOLACE_HOSTNAME=mes-solace-broker

# Credentials
SOLACE_ADMIN_PASSWORD=admin                   # (REQUIRED) Change in production!

# Performance
SOLACE_MAX_CONNECTIONS=100                    # Max concurrent connections

# Ports (if defaults conflict)
SOLACE_MANAGER_PORT=8080                      # PubSub+ Manager web UI
SOLACE_SMF_PORT=55555                         # Solace Message Format
SOLACE_MQTT_PORT=1883                         # MQTT
SOLACE_MQTT_WS_PORT=8000                      # MQTT over WebSocket
SOLACE_AMQP_PORT=5672                         # AMQP
SOLACE_REST_PORT=9000                         # REST messaging
SOLACE_SSH_PORT=2222                          # SSH CLI access

# =============================================
# Database (TimescaleDB) Configuration
# =============================================

POSTGRES_USER=admin                           # (REQUIRED)
POSTGRES_PASSWORD=password                    # (REQUIRED) Change in production!

# =============================================
# Database Backup Configuration
# =============================================

BACKUP_RETENTION_DAYS=14
BACKUP_ENCRYPTION_KEY=token                   # (REQUIRED) Use strong random key in production!

# =============================================
# pgAdmin Configuration
# =============================================

PGADMIN_PORT=5050
PGADMIN_DEFAULT_EMAIL=admin@example.com       # (REQUIRED)
PGADMIN_DEFAULT_PASSWORD=changeme             # (REQUIRED) Change in production!

# =============================================
# Watchtower Configuration
# =============================================

WATCHTOWER_API_TOKEN=token                    # (REQUIRED) Use strong random token in production!

# =============================================
# Homepage (Dashboard) Configuration
# =============================================

HOMEPAGE_PORT=3000

# =============================================
# Glances (System Monitoring) Configuration
# =============================================

GLANCES_PORT=61208

# =============================================
# Docker Network and Volume Names
# =============================================
# Customize volume and network names if needed (useful for multiple deployments)

NETWORK_NAME=abelara-mes-network
TIMESCALEDB_VOLUME_NAME=timescaledb-data
IGNITION_VOLUME_NAME=ignition-data
SOLACE_VOLUME_NAME=solace-data
PGADMIN_VOLUME_NAME=pgadmin-data
HISTORIAN_VOLUME_NAME=historian-data
COLLECTOR_VOLUME_NAME=collector-data
EXPLORER_VOLUME_NAME=explorer-data

# =============================================
# Notes
# =============================================
#
# Security Best Practices:
# 1. Change all passwords and tokens before production deployment
# 2. Use strong, randomly generated values for encryption keys
# 3. Consider using Docker secrets for sensitive values
# 4. Never commit the .env file to version control
#
# Resource Limits:
# - Total CPU limit if all services max out: 15 cores
# - Total Memory limit if all services max out: 13.5GB
# - Ensure host has adequate resources
#
# Volume Management:
# - All application data uses named Docker volumes
# - Backups are stored in ./backups/ directories
# - Use 'docker volume ls' to see all volumes
# - Use 'docker volume prune' to clean unused volumes
#
